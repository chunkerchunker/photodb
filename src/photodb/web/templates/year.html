{% extends "base.html" %}

{% block title %}PhotoDB - {{ year }}{% endblock %}

{% block breadcrumb %}
<nav aria-label="breadcrumb">
    <ol class="breadcrumb container mt-3">
        <li class="breadcrumb-item"><a href="/">Home</a></li>
        <li class="breadcrumb-item active" aria-current="page">{{ year }}</li>
    </ol>
</nav>
{% endblock %}

{% block content %}
<h1 class="mb-4">{{ year }}</h1>

{% if months %}
<div class="row">
    {% for month_data in months %}
    <div class="col-md-4 col-lg-3 mb-4">
        <a href="/year/{{ year }}/month/{{ month_data.month }}" class="month-card d-block h-100">
            <div class="month-name">{{ month_data.month_name }}</div>
            <div class="photo-count">{{ month_data.photo_count }} photo{{ 's' if month_data.photo_count != 1 else '' }}</div>
            
            {% if month_data.sample_photo_ids %}
            <div class="preview-grid">
                {% for photo_id in month_data.sample_photo_ids[:4] %}
                <img src="/api/image/{{ photo_id }}" alt="Preview">
                {% endfor %}
            </div>
            {% endif %}
        </a>
    </div>
    {% endfor %}
</div>
{% else %}
<div class="alert alert-info">
    No photos found for {{ year }}.
</div>
{% endif %}
{% endblock %}